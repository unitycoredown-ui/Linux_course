#!/bin/bash

FILE="$1"

#Задача: Найти даты в форматах YYYY-MM-DD, DD/MM/YYYY, и MM-DD-YYYY.

grep -Eo '[0-9]{2,4}[-/][0-9]{2}[-/][0-9]{2,4}' "$FILE" | grep -vE '[2-9][0-9][2-9][6-9]' | \
awk -F'[-/]' '
  /^[0-9]{4}-[0-9]{2}-[0-9]{2}$/ { if($2<=12 && $3<=31) print }
  /^[0-9]{2}\/[0-9]{2}\/[0-9]{4}$/ { if($2<=12 && $1<=31) print }
  /^[0-9]{2}-[0-9]{2}-[0-9]{4}$/ { if($1<=12 && $2<=31) print }
'